<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Logisti-K Freight Innovation Day</title>
<link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- NAV -->
  <nav>
    <div><strong>Logisti-K.us</strong></div>
    <div>
      <a href="#home">Home</a>
      <a href="#about">About</a>
      <a href="#services">Services</a>
      <a href="#signup">Sign In</a>
    </div>
  </nav>

  <!-- HERO -->
  <section class="hero" id="home"></section>

  <!-- CONTENT -->
  <div class="container">
    <div class="card">
      <h2>Event Highlights</h2>
      <ul>
        <li>Live demo of freight tracking system</li>
        <li>Workshops on international shipping logistics</li>
        <li>Career booth for tech &amp; logistics students</li>
      </ul>
    </div>

    <div class="card about-card" id="about">
      <h2>About Us</h2>
      <div class="about-content">
        <img src="Chancay.jpg" alt="Port of Chancay - Peru" />
        <div class="about-text">
          <p>
            Logisti-K is a Miami-based freight forwarding company specializing in cargo transportation services. We deliver integrated logistics with a customer-first approach.
          </p>
          <p>
            From port to warehouse, paperwork to final mile — we move your cargo safely and on time.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- SIGNUP STRIP -->
  <section class="signup-section" id="signup">
    <div class="signup-container">
      <div class="signup-text">
        <h3>Why Join Us?</h3>
        <p>“As a manufacturer, I’ve been using Logisti-k.us for over a year. They’re reliable and cost-effective.”</p>
        <p>Our warehouses in Miami and Lima keep your cargo moving fast and safely across borders.</p>
      </div>

      <div class="signup-card">
        <div id="alert" class="alert"></div>
        <h2>Sign Up Now!</h2>

        <form id="signupForm" autocomplete="off">
          <label for="fname">First Name:</label>
          <input id="fname" name="fname" required />

          <label for="lname">Last Name:</label>
          <input id="lname" name="lname" required />

          <label for="email">Email:</label>
          <input id="email" name="email" type="email" required />

          <label>Cargo Weight:</label>
          <div class="radio-group">
            <div class="radio-row">
              <input id="w-less" type="radio" name="weight" value="less" required />
              <label for="w-less">Less than 150kg</label>
            </div>
            <div class="radio-row">
              <input id="w-more" type="radio" name="weight" value="more" />
              <label for="w-more">More than 150kg</label>
            </div>
            <div class="radio-row">
              <input id="w-other" type="radio" name="weight" value="other" />
              <label for="w-other">Other</label>
            </div>
          </div>

          <button class="button" type="submit">Submit</button>
        </form>

        <div id="casilleroResult"></div>
        <div id="nextPreview"></div>
      </div>
    </div>
  </section>

  <footer>
    <p>Logisti-K Freight Services — Miami FL | Peru | All Rights Reserved</p>
  </footer>

<script>
/* ====== Casillero con localStorage: LTKYY1001 y reinicio anual ====== */
const STORAGE_YEAR = 'lk_year';
const STORAGE_COUNTER = 'lk_counter';
const START_COUNTER = 1001;

function loadState(){
  const y = parseInt(localStorage.getItem(STORAGE_YEAR),10);
  const c = parseInt(localStorage.getItem(STORAGE_COUNTER),10);
  if(Number.isNaN(y) || Number.isNaN(c)) return null;
  return {year:y, counter:c};
}
function saveState(year, counter){
  localStorage.setItem(STORAGE_YEAR, String(year));
  localStorage.setItem(STORAGE_COUNTER, String(counter));
}
function initState(){
  const nowYear = new Date().getFullYear();
  const st = loadState();
  if(!st || st.year !== nowYear){
    saveState(nowYear, START_COUNTER);
    return {year: nowYear, counter: START_COUNTER};
  }
  return st;
}
function formatCasillero(year, counter){
  const yy = String(year).slice(-2);
  return `LTK${yy}${counter}`;
}
function updatePreview(){
  const st = initState();
  const el = document.getElementById('nextPreview');
  if(el) el.textContent = `Next casillero: ${formatCasillero(st.year, st.counter)}`;
}

/* ====== Alertas ====== */
const alertBox = document.getElementById("alert");
function showAlert(type, text) {
  alertBox.className = "alert " + (type === "success" ? "alert-success" : "alert-error");
  alertBox.textContent = text;
  alertBox.style.display = "block";
  setTimeout(() => { alertBox.style.display = "none"; }, 5000);
}

/* ====== Lógica del formulario ====== */
let state = initState();
updatePreview();

document.getElementById('signupForm').addEventListener('submit', function(e){
  e.preventDefault();

  const fname = document.getElementById("fname").value.trim();
  const lname = document.getElementById("lname").value.trim();
  const email = document.getElementById("email").value.trim();

  if (!fname || !lname || !email) {
    showAlert("error", "Por favor completa todos los campos obligatorios.");
    return;
  }

  const nowYear = new Date().getFullYear();
  state = loadState() || {year: nowYear, counter: START_COUNTER};
  if(nowYear !== state.year){ state.year = nowYear; state.counter = START_COUNTER; }

  const casillero = formatCasillero(state.year, state.counter);
  document.getElementById('casilleroResult').textContent = `Your Casillero Number: ${casillero}`;
  showAlert("success", `¡Registro exitoso! Tu casillero es ${casillero}.`);

  state.counter += 1;
  saveState(state.year, state.counter);

  this.reset();
  updatePreview();
});
</script>
</body>
</html>
